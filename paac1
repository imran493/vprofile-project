pipeline{
	agent any
	tools {
      maven "MAVEN3"
	  jdk "OracleJDK8"
	}
	stages{
        stage('Fetch code') {
            steps {
                gitbranch:'paac1',url:'https://github.com/devopshydclub/vprofile-project.git'
            }
                   
        }

        stage('build') {
            steps {
                 sh 'mvn install -DskipTests'
            }
            
            post {
               sucess {
                echo 'Now archiving it........'
                archiveArtifacts artifacts:'**/target/*.war'
               }

            }  

        }
        stage ('UNIT TEST') {
            steps{
                sh 'mvn test'
            }
        }

	}   

        
}
